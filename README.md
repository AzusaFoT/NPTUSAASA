# 大數據期末報告
## 專案名稱
特約小秘書

## Demo
### 介紹_如何使用
由使用者主動傳訊息給特約小秘書
| 使用者訊息                    | 機器人回覆訊息       |
| ----------------------------- | -------------------- |
| 以 `查詢` 開頭的語句            | 先查詢店家再查詢路名 |
| `推薦特約給我`              | 推薦隨機3間特約商店  |
| 當 `請問` 在訊息中              | 機器人無法回覆該問題，歡迎洽學生會公關部IG將會有小編回復學生會公關部IG：@nptusa_prd\nhttps://www.instagram.com/nptusa_prd/         |
| 當 `可以簽` or  `能簽` 在訊息中 | 感謝你的建議。<br>我只是機器人，若有想簽的特約可以到學生會公關部IG反映呦！<br>學生會公關部IG：@nptusa_prd  https://www.instagram.com/nptusa_prd/         |
| 其餘語句                      | 哈囉!    我是特約小祕書🫰😉<br><br>可以輸入 查詢 XXX 來搜尋店家或是路名!<br>例如：<br>    - 查詢 義朵朵<br>    - 查詢 自由路<br>或是輸入 推薦特約給我  |
## Why：目標，也就是為何要做這個企劃
屏大學生會簽署了許多特約，學生可憑學生證前往店家消費而享有優惠，但是特約商店資訊無法快速的搜尋，因此我們希望製作一簡單的系統查詢特約商店內容。
該系統希望能在大家熟悉的平台上做互動，因此以LINEBot實作此系統。

原本若要搜尋特約商店必須先上屏大公關部IG點選linktree尋找特約試算表，再進行Ctrl+F試算表內搜尋。
因此我們想要使其變得更簡單。

- 使特約商店搜尋更方便
- 搜尋可以有系統且更快速

## What：內容，說明企畫案
- ### LINEBot部分
    - 關鍵字回覆功能：使LINEBot能自主判斷接收到的訊息關鍵字做回覆。
    - 查詢功能：查詢某個店家是否有和屏大學生會合作。
    - 推薦功能：獲得隨機推薦結果。
    - 期望顯示：以[Flex Message](https://developers.line.biz/flex-simulator/)做顯示。
- ### 數據部分
    - 數據收集：[特約商店excel總表](https://linktr.ee/nptusa_prd)。
    - 回傳特定數據：利用for迴圈去做篩選，使條件吻合的被回傳。
## Who：參與人員
**再想一下團隊**
CBE109021 黃柏翰
CBE109042 陳歆宜
CBE109047 洪雪華
CBE109048 徐采碟

## How：具體實施方式
- ### LINEBot部分
    - #### 功能設計
        | 使用者訊息                        | 機器人回覆訊息       |
        | --------------------------------------- | -------------------- |
        | 以 `查詢` 開頭的語句                | 先查詢店家再查詢路名 |
        | `推薦特約給我`                    | 推薦隨機3間特約商店  |
        | 當 `請問` 在訊息中                    | 回覆特定語句         |
        | 當 `可以簽` or  `能簽` 在訊息中         | 回覆特定語句         |
        | 其餘語句                            | 做自我介紹及使用說明 |

    - #### 互動流程
        使用者主動傳訊息給LineBot，LineBot依據關鍵字回傳訊息。
    - #### 訊息呈現
        由使用者主動傳送訊息，得到的結果如下：
         > 查詢店家與路名
          <div style="display: flex; justify-content: space-around;">
              <img src="https://gcdnb.pbrd.co/images/ITo9D06GZ4q1.png?o=1" alt="查詢店家" width="200"/>
              <img src="https://gcdnb.pbrd.co/images/dSt6rjpHYaVX.gif?o=1" alt="查詢路名" width="200"/>
          </div>
    
        > 推薦特約給我
        > 
        > <img src="https://gcdnb.pbrd.co/images/7HWvqBuAIbVT.gif?o=1" alt="推薦特約給我" width="200"/>



- ### 數據處理部分
    - #### 數據收集
        當使用者需要抓資料，利用[特約商店excel總表](https://linktr.ee/nptusa_prd)即時Request一個csv檔案做處理，以保證資料為最新的版本。
    - #### 資料清理
        特約商店數據可能會有缺失或錯誤(例如：合併儲存格)，當值為NaN我們往上溯源，若原本就為空，則建議使用者去Google。
    - #### 搜尋方法
        遍歷所有資料，或是特定條件的所有資料。


## Effect：預期效益
- 使用者可以更方便的尋到特約內容
- 可以更快速的了解到哪些店家有特約
- 可以有方便的按鈕直接Google店名
- 可以在煩惱要吃什麼時獲得推薦
